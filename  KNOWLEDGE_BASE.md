# Полезная информация 

## О системе EPSG:4326 (WGS 84)
EPSG:4326 - это код системы координат, известной как WGS 84 (World Geodetic System 1984). Это глобальная система координат, используемая в GPS и большинстве веб-картографических сервисов.

Основные характеристики:
 - Использует географические координаты (широта и долгота)
 - Единицы измерения - градусы
 - Первая координата (x) - долгота (от -180 до +180)
 - Вторая координата (y) - широта (от -90 до +90)
 - Пример: Москва - [37.6176, 55.7558] (долгота, широта)

 ## О GeoJSON с круглым полигоном
GeoJSON - это формат для кодирования географических структур данных. 
Круглый полигон в GeoJSON - это фактически аппроксимация круга с помощью многоугольника (обычно с 32-64 сегментами для гладкости).

## Пример GeoJSON с круглым полигоном:
```
{
  "type": "Feature",
  "properties": {},
  "geometry":
  {
    "type": "Polygon",
    "coordinates": 
    [
      [
        [37.6176, 55.7558],
        [37.6180, 55.7558],
        // ... другие точки окружности
        [37.6176, 55.7558]  // замкнутый полигон
      ]
    ]
  }
}
```
## Albers Equal Area Conic (Равновеликая коническая проекция Альберса)
Проекция Albers Equal Area Conic (часто называемая просто "проекция Альберса") — это коническая картографическая проекция, сохраняющая площади.

 - Сохраняет площади (равновеликая)
 - Минимизирует искажения для заданного региона
 - Оптимальна для вычисления площадей

## PostGIS и используемые методы

### PostGIS
PostGIS - это расширение PostgreSQL для работы с геопространственными данными. Добавляет поддержку географических объектов и функций для работы с ними.

### Используемые методы в проекте:

#### ST_SetSRID(geometry, srid)
Устанавливает SRID (Spatial Reference System Identifier) для геометрического объекта.
```sql
ST_SetSRID(ST_MakePoint(lon, lat), 4326)
```

#### ST_MakePoint(x, y)
Создает точку с заданными координатами.
```sql
ST_MakePoint(lon, lat)
```

#### ST_Transform(geometry, srid)
Преобразует геометрию из одной системы координат в другую.
```sql
ST_Transform(geometry, epsg_code)
```

#### ST_Buffer(geometry, distance, segments)
Создает буфер вокруг геометрического объекта на заданном расстоянии.
- `geometry` - исходная геометрия
- `distance` - расстояние в единицах проекции
- `segments` - количество сегментов для аппроксимации кривой

```sql
ST_Buffer(geometry, radius_meters, segments)
```

#### ST_Area(geometry)
Вычисляет площадь геометрического объекта в квадратных единицах проекции.

### Системы координат в проекте:

#### UTM (Universal Transverse Mercator)
- EPSG коды: 32600 + zone (северное полушарие), 32700 + zone (южное полушарие)
- Зона вычисляется: `int((lon + 180) / 6) + 1`
- Используется для точных расчетов в локальных областях

#### Полярные стереографические проекции
- EPSG:3413 - NSIDC Sea Ice Polar Stereographic North
- EPSG:3412 - NSIDC Sea Ice Polar Stereographic South
- Используются для крайних случаев (полярные регионы)

### Алгоритм создания круглого полигона:
1. Создание точки с заданными координатами в WGS84 (EPSG:4326)
2. Преобразование в подходящую проекцию (UTM или полярную)
3. Создание буфера заданного радиуса с аппроксимацией сегментами
4. Преобразование обратно в WGS84
5. Вычисление площади в квадратных метрах

